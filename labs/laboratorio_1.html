<!--[if lt IE 7]>    <html lang="es" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>       <html lang="es" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>       <html lang="es" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="es" class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
    <meta name="author" content="Martin Josemaria Vuelta Rojas">
    <meta name="description" content="Web para el curso de procesamiento de datos digitales">

    <meta name="msapplication-tap-highlight" content="no">
    <meta name="msapplication-TileColor" content="#00000">
    <meta name="msapplication-TileImage" content="../static/img/favicon.png">
    <meta name="theme-color" content="#000000">


    <title>Procesamiento de Datos Digitales</title>

    <link rel="apple-touch-icon-precomposed" type="image/x-icon" href="../static/img/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="../static/img/favicon.png"/>

    <link rel="stylesheet" href="../static/css/normalize.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../static/css/font-awesome.min.css">
    <link rel="stylesheet" href="../static/css/shCore.css">
    <link rel="stylesheet" href="../static/css/shThemeDefault.css">
    <link rel="stylesheet" href="../static/css/materialize.css">
    <link rel="stylesheet" href="../static/css/extensions.css">
    <link rel="stylesheet" href="../static/css/overrides.css">
    <link rel="stylesheet" href="../static/css/helpers.css">
    <link rel="stylesheet" href="../static/css/pdd.css">
  </head>

  <body>
    <ul id="sidenav" class="waves-effect side-nav fixed light-color table-of-contents">
      <li class="waves-effect waves-light dark-color s-mar-0 s-pad-0">
        <a href="../" class=" s-mar-0 s-pad-0">
          <h4 class="grey-text text-lighten-5 text700 s-mar-0 s-pad-0 center-align">PDD</h4>
        </a>
      </li>
      <li><a href="../" class="active"><i class="fa fa-fw fa-home"></i>Inicio</a></li>
      <li><a href="#problema1">Problema 1</a></li>
      <li><a href="#problema2">Problema 2</a></li>
      <li><a href="#problema3">Problema 3</a></li>
      <li><a href="#problema4">Problema 4</a></li>
      <li><a href="#problema5">Problema 5</a></li>
      <li><a href="#problema6">Problema 6</a></li>
      <li><a href="#problema7">Problema 7</a></li>
    </ul>

    <header class="dark-color">
      <nav class="transparent waves-effect waves-light">
        <div class="container">
          <div class="nav-wrapper">
            <a href="javascript:void(0);" data-activates="sidenav" class="button-collapse left light-color">
              <i style="background-image: url(../static/img/spin.png)"></i>
            </a>

            <a href="laboratorio_1.html" class="brand-logo">
              <span class="text300">
                Laboratorio 1
                <small class="hide-on-small-only"><small>(Solución)</small></small>
                <small class="hide-on-med-and-up"><small>(Sol.)</small></small>
              </span>
            </a>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="container">
        <div class="row"></div>
        <div class="row">
          <div class="col s12">
            <blockquote>
              <h1 class="h5 text300">Introducción a <span class="smallcaps">Matlab</span><sup>®</sup></h1>
            </blockquote>
          </div>
        </div>

        <div id="problema1" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 1</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              Hacer un programa que genere una matriz <strong>cuadrado mágico</strong> de $n \times n$ elementos y que la
              guarde en un archivo de datos <code>magico_n.txt</code>. Modificar el programa para que lea dicho
              archivo y calcule el valor máximo de la matriz y la posición correspondiente.
            </p>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                clc
                Dim = input('Ingrese la dimension de la matriz: ');
                FileName = sprintf('matriz_%d.dat',Dim);
                A = magic(Dim);
                MagicFile = fopen(FileName,'w');
                fprintf(MagicFile,'%d\n',A);
                fclose(MagicFile);
                MagicFile = fopen(FileName,'r');
                B = fscanf(MagicFile,'%d');
                fclose(MagicFile);
                disp('Matriz creada :');
                disp(A);
                MAX = max(B);
                for i = 1:Dim
                  for j = 1:Dim
                    if(A(i,j) == MAX)
                      fprintf('Mayor elemento está en la posición (%d,%d) y es %d\n', i, j, MAX);
                    end
                  end
                end
              </pre>
            </div>

          </div>
        </div>

        <div id="problema2" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 2</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              Hacer un programa para resolver la ecuación de 2<sup>do</sup> grado: $ax^2+bx+c = 0$. Los parámetros $a$,
              $b$ y $c$ serán introducidos desde el teclado. Debe tener en cuenta las raíces reales y complejas.
              Las raíces deben aparecer en la pantalla con 6 decimales. No debe usar la sentencia
              <code class="text700 blue-text">roots</code>.
            </p>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                close all
                clc
                a = input('Ingrese valor del coeficiente a: ');
                b = input('Ingrese valor del coeficiente b: ');
                c = input('Ingrese valor del coeficiente c: ');

                R = roots([a b c]);

                disp('Las raices de la ecuación a*x^2 + b*x + c = 0 son :');

                if(imag(R(1))<0)
                    R(1) = conj(R(1));
                    fprintf('X[1] = %2.6f - %2.6f*i\n',real(R(1)),imag(R(1)));
                    fprintf('X[2] = %2.6f + %2.6f*i\n',real(R(2)),imag(R(2)));
                else
                    if (imag(R(1)) == 0)
                        fprintf('X[1] = %2.6f\n',R(1));
                        fprintf('X[2] = %2.6f\n',R(2));
                    else
                        R(2) = conj(R(2));
                        fprintf('X[1] = %2.6f + %2.6f*i\n',real(R(1)),imag(R(1)));
                        fprintf('X[2] = %2.6f - %2.6f*i\n',real(R(2)),imag(R(2)));
                    end
                end
              </pre>
            </div>
          </div>
        </div>

        <div id="problema3" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 3</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              Hacer un programa para resolver un sistema de ecuaciones lineales:
              $\mathbf{A} \cdot \mathbf{X} = \mathbf{B}$, donde $\mathbf{B}$ es una
              matriz cuadrada y $\mathbf{B}$ y $\mathbf{X}$ son vectores columna.
              Los datos serán leídos desde un archivo. Las incógnitas deben
              aparecer en la pantalla con 4 decimales. Debe grabar las incógnitas
              en un archivo <code>solucion.txt</code>.
            </p>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                close all
                clc
                Question = {'1. Numero de ecuaciones del sistema:'
                            '2. Nombre del archivo entrada:'
                            '3. Nombre del archivo salida:'};
                Title    = 'Sistema Lineal';
                Default  = {'10','Data_System.dat','Solution_System.dat'};
                UInData  = inputdlg(Question, Title, 1, Default);

                Dim      = str2double(UInData{1});
                InFile   = UInData{2};
                OutFile  = UInData{3};

                DataFile = fopen(InFile,'r');

                if(DataFile == -1)
                    disp('Archivo no encontrado');
                else
                    B = fscanf(DataFile,'%f');
                    fclose(DataFile);

                    if(length(B) < Dim^2 + Dim)
                        fprintf('Datos insuficientes en "%s"\n', InFile);
                    else
                        if(length(B) > Dim^2 + Dim)
                            fprintf('Exceso de datos en "%s", se tomaran solo los %d primeros datos.\n', InFile, Dim^2 + Dim);
                        end
                        A = zeros(Dim,Dim + 1);
                        for i = 1:Dim
                            for j = 1:Dim+1
                                A(i,j) = B(i+j+Dim*(i-1)-1);
                            end
                        end
                        disp('Matiz del sistema: A·X = Y')
                        disp('A = ')
                        for i = 1:Dim
                            for j = 1:Dim
                                fprintf('\t %10.4f', A(i,j));
                                if j == Dim
                                    fprintf('\n');
                                end
                            end
                        end
                        disp(' ')
                        disp('Y = ')

                        for i = 1:Dim
                            fprintf('\t %10.4f \n', A(i,Dim));
                        end

                        disp(' ')

                        if(det(A(:,1:Dim)) == 0)
                            disp('La matriz del sistema es singular')
                        else
                            X = A(:,Dim+1)\A(:,1:Dim);
                            disp('La solucion del sistema es:')
                            disp('X = ')

                            SolutionFile = fopen(OutFile,'w');
                            for i = 1:Dim
                                fprintf('\t %10.4f \n', X(i));
                                fprintf(SolutionFile, '%2.4f\n', X(i));
                            end

                            if(~fclose(SolutionFile))
                                fprintf('\nLa solucion del problema sistema se guardo exitosamente en "%s"\n',...
                                         OutFile);
                            else
                                fprintf('\nError al guardar la solucion en "%s"\n',...
                                         OutFile);
                            end
                        end
                    end
                end
              </pre>
            </div>
          </div>
        </div>

        <div id="problema4" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 4</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              Hacer un programa para calcular la distancia entre dos puntos
              geográficos de latitud y longitud determinados. Considerar que
              la Tierra tiene una forma esférica y que la distancia <strong>NO</strong>
              es una línea recta, sino una longitud de arco esférica.
              ¿Cuál es la distancia entre Lima y New York?
              Verifique con Google Earth.
            </p>
            <p>
              <strong>Sugerencia:</strong> $L = R\times\theta$, donde $\theta$ es el ángulo
              formado por los vectores que van del centro a los puntos geográficos.
            </p>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                clc

                Lat = 1;
                Lon = 2;
                Deg = 1;
                Min = 2;
                Sec = 3;

                R   = 3;
                X   = 1;
                Y   = 2;
                Z   = 3;

                Rt  = 6371.0;

                City1 = zeros(3:3);
                City2 = zeros(3:3);

                fprintf('Ingrese las coordenadas geograficas de las ciudades\n');
                fprintf('Las latitudes hacia el norte y longitudes hacia el este se ingresan con numeros positivos\n');
                fprintf('Las latitudes hacia el sur y longitudes hacia el oeste se ingresan con numeros negativos\n');

                fprintf('Ciudad 1:\n')
                fprintf('* Latitud\n')
                City1(Lat,Deg) = input('  * Grados   : ');
                City1(Lat,Min) = input('  * Minutos  : ');
                City1(Lat,Sec) = input('  * Segundos : ');
                fprintf('* Longitud\n')
                City1(Lon,Deg) = input('  * Grados   : ');
                City1(Lon,Min) = input('  * Minutos  : ');
                City1(Lon,Sec) = input('  * Segundos : ');

                fprintf('Ciudad 1:\n')
                fprintf('* Latitud\n')
                City2(Lat,Deg) = input('  * Grados   : ');
                City2(Lat,Min) = input('  * Minutos  : ');
                City2(Lat,Sec) = input('  * Segundos : ');
                fprintf('* Longitud\n')
                City2(Lon,Deg) = input('  * Grados   : ');
                City2(Lon,Min) = input('  * Minutos  : ');
                City2(Lon,Sec) = input('  * Segundos : ');

                Rlat = (City1(Lat,Deg) + City1(Lat,Min)/60 + City1(Lat,Sec)/3600)*pi/180;
                Rlon = (City1(Lon,Deg) + City1(Lon,Min)/60 + City1(Lon,Sec)/3600)*pi/180;

                City1(R,X) = Rt*cos(Rlat)*cos(Rlon);
                City1(R,Y) = Rt*cos(Rlat)*sin(Rlon);
                City1(R,Z) = Rt*sin(Rlat);

                Rlat = (City2(Lat,Deg) + City2(Lat,Min)/60 + City2(Lat,Sec)/3600)*pi/180;
                Rlon = (City2(Lon,Deg) + City2(Lon,Min)/60 + City2(Lon,Sec)/3600)*pi/180;

                City2(R,X) = Rt*cos(Rlat)*cos(Rlon);
                City2(R,Y) = Rt*cos(Rlat)*sin(Rlon);
                City2(R,Z) = Rt*sin(Rlat);

                D = Rt*acos((City1(R,:)*City2(R,:)')/(norm(City1(R,:))*norm(City2(R,:))));
                fprintf('La disancia entre ambos puntos es igual a %.4f km\n', D);
              </pre>
            </div>
          </div>
        </div>

        <div id="problema5" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 5</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              El día <i>juliano</i> es el número de orden que le corresponde a una fecha dada; por ejemplo, el
              01 de enero sería el día juliano 1 y el 31 de diciembre sería el día juliano 365. Hacer un
              programa para convertir de día juliano a fecha. ¿A que fecha corresponde el día juliano 220?
              Variar el programa para tener en cuenta los años bisiestos: múltiplos de 4, excepto los que
              terminen en 00, como el año 2000.
            </p>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                clc

                i   = 1;
                J   = 0;
                D   = 0;
                M   = 0;
                B   = 0;
                Lim = 355;
                DpM = [31 28 31 30 31 30 31 31 30 31 30 31];

                fprintf('Cálculo del dia Juliano y Fecha\n');
                fprintf('1. conversion de Fecha a Día Juliano\n');
                fprintf('2. conversion de Día Juliano a Fecha\n');
                Opt = input('Elija una opcion: ');



                if(Opt ~= 1 && Opt ~= 2)
                    fprintf('Error: Opción no disponible');
                else
                    clc
                    fprintf('Cálculo del dia Juliano y Fecha\n');
                    Y = input('Ingrese año: ');
                    if rem(Y,4)==0 && (rem(Y,100)~=0 || rem(Y,400)==0)
                        DpM(2) = 29;
                        B = 1;
                        Lim = 356;
                    end

                    if(Opt == 2)
                        while (J > Lim || 1 > J)
                            clc
                            fprintf('Cálculo del dia Juliano y Fecha\n');
                            fprintf('Ingrese año: %d\n',Y);
                            J = input('Introduzca la fecha juliana: ');
                            D = J;
                        end

                        while D > 0
                            D = D - DpM(i);
                            i = i + 1;
                        end

                        fprintf('La Fecha correspondie al dia juliano %d del año %d es el %d/%d/%d\n',...
                                 J, Y, D + DpM(i-1), i-1, Y);
                    else
                        while(M > 12 || 1 > M)
                            clc
                            fprintf('Cálculo del dia Juliano y Fecha\n');
                            fprintf('Ingrese año: %d\n',Y);
                            M = input('Ingrese mes: ');
                        end

                        while(D > DpM(M) || 1 > D)
                            clc
                            fprintf('Cálculo del dia Juliano y Fecha\n');
                            fprintf('Ingrese año: %d\n',Y);
                            fprintf('Ingrese mes: %d\n',M);
                            D = input('Ingrese dia: ');
                        end

                        while i < M
                            J = J + DpM(i);
                            i = i + 1;
                        end
                        J = J + D;
                        fprintf('El dia juliano corrspondiente a la fecha %d/%d/%d es %d\n',D,M,Y,J);
                    end
                end
              </pre>
            </div>
          </div>
        </div>

        <div id="problema6" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 6</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              Se tiene un cuadrado de lado $L$ y una circunferencia inscrita en él.
              Supongamos que lanzamos pequeños dardos a gran distancia. Muchos caerán dentro
              y otros caerán fuera de la circunferencia. Sea: $n$ el número de dardos
              que caen dentro del circulo y $N$ el número de dardos que caen dentro del cuadrado.
              La razón de estas dos cantidades será proporcional a la razón de las áreas del cuadrado y de la
              circunferencia. Hallar una aproximación de $\pi$ en función de $n$ y $N$. Hacer un programa para
              hallar el valor de $\pi$ para un valor de $N$ introducido por el usuario.
            </p>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                clc

                fprintf('metodo de montecarlo para calcular pi\n');
                N = input ('Ingrese el número de dardos : ');

                n = 0;
                x = 0;
                y = 0;
                count = 1;

                rng(0,'twister');

                while count < N;
                    x = rand;
                    y = rand;

                    if sqrt (x^2 + y^2) <= 1
                        n = n + 1;
                    end

                    count = count + 1;
                end

                fprintf('Dardos dentro del Círculo   : %d\n', n);
                fprintf('Valor aproximado de Pi      : %.5f\n', 4*n/N);
              </pre>
            </div>
          </div>
        </div>

        <div id="problema7" class="row scrollspy">
          <div class="col s12">
            <h1 class="h5 text300 base-text">Problema 7</h1>
          </div>

          <div class="col s12 divider"></div>

          <div class="col s12">
            <p>
              Hacer una gráfica en 3 dimensiones de la curva gaussiana:
              $$z = A\cdot\mathrm{e}^\left(x^2 + y^2\right)$$
              donde $A = 10$ es la amplitud de la curva. Utilice una grilla para el dominio:
              $-10 < x < 10 \wedge -10 < y < 10$.
            </p>
            <ol>
              <li>Considere que la dimensión de la grilla es unitaria.</li>
              <li>Considere que la dimensión de la grilla es $0.2$</li>
              <li>Modifique el programa para visualizar curvas de nivel</li>
            </ol>
          </div>

          <div class="col s12">
            <h6 class="base-text text900 center-align">Solución</h6>
          </div>

          <div class="col s12">
            <div class="card white s-pad-5">
              <pre class="brush: matlab">
                clear all
                close all
                clc

                fprintf('Gráfica de Funciones\n');
                fprintf('Función Grausiana z(x,y) = Aexp(- (x^2 + y^2)) en [-10,10]x[-10,10]\n');
                A = input('Ingrese la amplitud         : ');
                N = input('Ingrese el numero de puntos : ');
                fprintf(  'Amplitud de la malla        : %.5f\n', 20/(N-1));

                X = linspace(-10,10,N);
                Y = linspace(-10,10,N);
                [X,Y] = meshgrid(X,Y);
                Z = A*exp(-(X.^2 + Y.^2));
                str1 = sprintf('Superficie z(x,y)  = %.3f*exp(-(x^2 + y^2))',A);

                surf(X,Y,Z,'EdgeColor','none');
                title (str1);

                C = input('Desea graficar curvas de nivel (Y/N)? ');

                if(C == 'Y' || C == 'y')
                    close all
                    str2 = sprintf('%d Curvas de Nivel ', floor(N/3));
                    subplot(1,2,1);
                    surf(X,Y,Z,'EdgeColor','none');
                    title (str1);
                    subplot(1,2,2);
                    contourf(X,Y,Z,floor(N/3));
                    title (str2);
                end
              </pre>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="page-footer gray-gradient s-mar-t0">
      <div class="footer-copyright transparent">
        <div class="container center base-text">
        © 2015 <a href="http://djeng.co" class="base-text">Martín Josemaría Vuelta Rojas</a>
        </div>
      </div>
    </footer>

    <!-- script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script -->
    <script type="text/javascript" charset="utf-8" src="../static/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/modernizr.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/jquery.smoothState.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/attrchange.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/materialize.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/shCore.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/shBrushJScript.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/shBrushGNUPlot.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/shBrushMatlab.js"></script>
    <script type="text/javascript" charset="utf-8" src="../static/js/pdd.js"></script>
  </body>
</html>
